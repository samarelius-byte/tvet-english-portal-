<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEAM Malaysia - Career Engine</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a3a6e 0%, #2c5c97 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .career-container {
            width: 100%;
            max-width: 1200px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            height: 700px;
            display: flex;
        }

        .sidebar {
            width: 250px;
            background: linear-gradient(to bottom, #2c5c97, #1a3a6e);
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo h2 {
            font-weight: 600;
            font-size: 1.3rem;
        }

        .nav-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item i {
            font-size: 1.2rem;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: 20px;
            background-color: #f5f7fb;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            color: #2c5c97;
            font-size: 1.5rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
        }

        .content-area {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .career-section {
            display: none;
        }

        .career-section.active {
            display: block;
        }

        .assessment-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .question {
            margin-bottom: 20px;
        }

        .question h3 {
            margin-bottom: 10px;
            color: #2c5c97;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .option-btn {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .option-btn:hover {
            border-color: #4a00e0;
            background: #f0f0ff;
        }

        .option-btn.selected {
            border-color: #4a00e0;
            background: #4a00e0;
            color: white;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
        }

        .nav-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }

        .career-results {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .career-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }

        .career-card:hover {
            transform: translateY(-5px);
        }

        .career-header {
            padding: 15px;
            background: linear-gradient(to right, #2c5c97, #4a00e0);
            color: white;
        }

        .career-body {
            padding: 15px;
        }

        .career-body p {
            margin-bottom: 10px;
            color: #555;
        }

        .match-score {
            display: inline-block;
            padding: 5px 10px;
            background: #4caf50;
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 10px;
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s;
        }

        .api-status {
            text-align: center;
            font-size: 0.8rem;
            padding: 5px;
            background-color: #4caf50;
            color: white;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .chatbot-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            margin-top: 20px;
        }

        .chat-header {
            background: linear-gradient(to right, #2c5c97, #4a00e0);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h2 {
            font-weight: 600;
            font-size: 1.2rem;
        }

        .chat-messages {
            height: 200px;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background-color: #f9fafc;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.4;
        }

        .user-message {
            align-self: flex-end;
            background-color: #4a00e0;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            align-self: flex-start;
            background-color: #e8ebf0;
            color: #333;
            border-bottom-left-radius: 5px;
        }

        .chat-input {
            padding: 15px;
            background-color: white;
            display: flex;
            gap: 10px;
            border-top: 1px solid #e0e0e0;
        }

        .chat-input input {
            flex: 1;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 30px;
            outline: none;
            font-size: 0.9rem;
        }

        .send-button {
            background: linear-gradient(to right, #4a00e0, #8e2de2);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="career-container">
        <div class="sidebar">
            <div class="logo">
                <h2>STEAM Career Engine</h2>
                <p>Find Your Future</p>
            </div>
            <div class="nav-item active" data-target="assessment">
                <i class="fas fa-clipboard-list"></i>
                <span>Career Assessment</span>
            </div>
            <div class="nav-item" data-target="results">
                <i class="fas fa-chart-line"></i>
                <span>Career Matches</span>
            </div>
            <div class="nav-item" data-target="paths">
                <i class="fas fa-graduation-cap"></i>
                <span>Education Paths</span>
            </div>
            <div class="nav-item" data-target="advice">
                <i class="fas fa-robot"></i>
                <span>Career Advisor</span>
            </div>
        </div>
        
        <div class="main-content">
            <div class="header">
                <h1>STEAM Career Engine</h1>
                <div class="user-info">
                    <div class="user-avatar">SA</div>
                    <span>Student Aiman</span>
                </div>
            </div>
            
            <div class="content-area">
                <!-- Assessment Section -->
                <div class="career-section active" id="assessment">
                    <h2>Career Assessment</h2>
                    <p>Complete this assessment to discover careers that match your interests and skills.</p>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <p>Question <span id="current-question">1</span> of <span id="total-questions">10</span></p>
                    </div>
                    
                    <div class="assessment-container">
                        <div class="question">
                            <h3 id="question-text">Which STEAM subject do you enjoy the most?</h3>
                            <div class="options" id="options-container">
                                <!-- Options will be inserted by JavaScript -->
                            </div>
                        </div>
                        
                        <div class="nav-buttons">
                            <button class="nav-btn" id="prev-btn" disabled>Previous</button>
                            <button class="nav-btn" id="next-btn">Next</button>
                        </div>
                    </div>
                </div>
                
                <!-- Results Section -->
                <div class="career-section" id="results">
                    <h2>Your Career Matches</h2>
                    <p>Based on your assessment, here are careers that match your interests and skills:</p>
                    
                    <div class="career-results" id="career-results">
                        <!-- Career cards will be inserted by JavaScript -->
                    </div>
                </div>
                
                <!-- Education Paths Section -->
                <div class="career-section" id="paths">
                    <h2>Education Pathways</h2>
                    <p>Explore educational paths for your recommended careers:</p>
                    
                    <div class="career-results" id="education-paths">
                        <!-- Education path cards will be inserted by JavaScript -->
                    </div>
                </div>
                
                <!-- Career Advisor Section -->
                <div class="career-section" id="advice">
                    <h2>AI Career Advisor</h2>
                    <p>Get personalized advice about your career options:</p>
                    
                    <div class="api-status">
                        API Connected Successfully - Using DeepSeek Model
                    </div>
                    
                    <div class="chatbot-container">
                        <div class="chat-header">
                            <h2>Career Advisor</h2>
                        </div>
                        
                        <div class="chat-messages" id="chat-messages">
                            <div class="message bot-message">
                                Hello! I'm your AI career advisor. I can help you explore different STEAM career paths and provide guidance based on your interests.
                            </div>
                        </div>
                        
                        <div class="chat-input">
                            <input type="text" id="user-input" placeholder="Ask about career options, education paths, or job prospects...">
                            <button class="send-button" id="send-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // API configuration
            const API_KEY = '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';
            const API_URL = 'https://openrouter.ai/api/v1/chat/completions';
            
            // DOM elements
            const navItems = document.querySelectorAll('.nav-item');
            const careerSections = document.querySelectorAll('.career-section');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const nextBtn = document.getElementById('next-btn');
            const prevBtn = document.getElementById('prev-btn');
            const progressFill = document.getElementById('progress-fill');
            const currentQuestionEl = document.getElementById('current-question');
            const totalQuestionsEl = document.getElementById('total-questions');
            const careerResults = document.getElementById('career-results');
            const educationPaths = document.getElementById('education-paths');
            const chatMessages = document.getElementById('chat-messages');
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-btn');
            
            // Assessment questions
            const questions = [
                {
                    question: "Which STEAM subject do you enjoy the most?",
                    options: ["Science", "Technology", "Engineering", "Arts", "Mathematics"]
                },
                {
                    question: "What type of activities do you prefer?",
                    options: ["Hands-on experiments", "Coding and programming", "Designing and building", "Creative expression", "Solving complex problems"]
                },
                {
                    question: "Which work environment appeals to you most?",
                    options: ["Research laboratory", "Tech startup", "Construction site/Factory", "Studio/Gallery", "Financial institution"]
                },
                {
                    question: "What skills do you excel at?",
                    options: ["Analytical thinking", "Technical skills", "Problem-solving", "Creativity", "Logical reasoning"]
                },
                {
                    question: "Which of these describes you best?",
                    options: ["Curious investigator", "Innovative creator", "Practical solver", "Visual thinker", "Precise calculator"]
                }
            ];
            
            // Career database
            const careers = [
                {
                    title: "Data Scientist",
                    description: "Analyze and interpret complex data to help organizations make better decisions.",
                    skills: ["Mathematics", "Statistics", "Programming"],
                    education: "Bachelor's in Computer Science, Statistics, or Mathematics",
                    demand: "High",
                    salary: "RM 8,000 - RM 15,000",
                    match: 92
                },
                {
                    title: "Software Engineer",
                    description: "Design, develop, and maintain software systems and applications.",
                    skills: ["Programming", "Problem-solving", "Algorithms"],
                    education: "Bachelor's in Computer Science or Software Engineering",
                    demand: "Very High",
                    salary: "RM 6,000 - RM 12,000",
                    match: 88
                },
                {
                    title: "Biomedical Engineer",
                    description: "Combine engineering principles with medical sciences to design healthcare equipment.",
                    skills: ["Engineering", "Biology", "Problem-solving"],
                    education: "Bachelor's in Biomedical Engineering or related field",
                    demand: "High",
                    salary: "RM 5,000 - RM 10,000",
                    match: 85
                },
                {
                    title: "Environmental Scientist",
                    description: "Study the environment and develop solutions to environmental problems.",
                    skills: ["Research", "Analysis", "Ecology"],
                    education: "Bachelor's in Environmental Science or related field",
                    demand: "Medium",
                    salary: "RM 4,000 - RM 8,000",
                    match: 82
                },
                {
                    title: "Graphic Designer",
                    description: "Create visual concepts to communicate ideas that inspire and captivate consumers.",
                    skills: ["Creativity", "Visual arts", "Communication"],
                    education: "Bachelor's in Graphic Design or related field",
                    demand: "Medium",
                    salary: "RM 3,500 - RM 7,000",
                    match: 78
                },
                {
                    title: "Civil Engineer",
                    description: "Design, construct, and maintain infrastructure projects like roads and buildings.",
                    skills: ["Engineering", "Mathematics", "Project management"],
                    education: "Bachelor's in Civil Engineering",
                    demand: "High",
                    salary: "RM 5,000 - RM 10,000",
                    match: 75
                }
            ];
            
            // Education paths
            const educationPathways = [
                {
                    career: "Data Scientist",
                    pathways: [
                        "SPM → STPM/Pre-U → Bachelor's in Data Science/Computer Science",
                        "SPM → Diploma in IT → Bachelor's in Data Science",
                        "SPM → Foundation in Science → Bachelor's in Statistics"
                    ]
                },
                {
                    career: "Software Engineer",
                    pathways: [
                        "SPM → STPM/Pre-U → Bachelor's in Software Engineering",
                        "SPM → Diploma in Computer Science → Bachelor's in Software Engineering",
                        "SPM → Foundation in IT → Bachelor's in Computer Science"
                    ]
                },
                {
                    career: "Biomedical Engineer",
                    pathways: [
                        "SPM → STPM/Pre-U → Bachelor's in Biomedical Engineering",
                        "SPM → Diploma in Engineering → Bachelor's in Biomedical Engineering",
                        "SPM → Foundation in Engineering → Bachelor's in Bioengineering"
                    ]
                }
            ];
            
            // Assessment state
            let currentQuestion = 0;
            let answers = [];
            
            // Initialize assessment
            function initAssessment() {
                totalQuestionsEl.textContent = questions.length;
                loadQuestion();
            }
            
            // Load question
            function loadQuestion() {
                const question = questions[currentQuestion];
                questionText.textContent = question.question;
                
                // Clear options
                optionsContainer.innerHTML = '';
                
                // Add options
                question.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = option;
                    if (answers[currentQuestion] === index) {
                        button.classList.add('selected');
                    }
                    button.addEventListener('click', () => selectOption(index));
                    optionsContainer.appendChild(button);
                });
                
                // Update progress
                currentQuestionEl.textContent = currentQuestion + 1;
                progressFill.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
                
                // Update buttons
                prevBtn.disabled = currentQuestion === 0;
                nextBtn.textContent = currentQuestion === questions.length - 1 ? 'See Results' : 'Next';
            }
            
            // Select option
            function selectOption(index) {
                // Remove selected class from all options
                document.querySelectorAll('.option-btn').forEach(btn => {
                    btn.classList.remove('selected');
                });
                
                // Add selected class to clicked option
                document.querySelectorAll('.option-btn')[index].classList.add('selected');
                
                // Save answer
                answers[currentQuestion] = index;
            }
            
            // Show career results
            function showCareerResults() {
                careerResults.innerHTML = '';
                
                careers.forEach(career => {
                    const card = document.createElement('div');
                    card.className = 'career-card';
                    card.innerHTML = `
                        <div class="career-header">
                            <h3>${career.title}</h3>
                        </div>
                        <div class="career-body">
                            <p>${career.description}</p>
                            <p><strong>Required Skills:</strong> ${career.skills.join(', ')}</p>
                            <p><strong>Education:</strong> ${career.education}</p>
                            <p><strong>Job Demand:</strong> ${career.demand}</p>
                            <p><strong>Starting Salary:</strong> ${career.salary}</p>
                            <div class="match-score">${career.match}% Match</div>
                        </div>
                    `;
                    careerResults.appendChild(card);
                });
            }
            
            // Show education paths
            function showEducationPaths() {
                educationPaths.innerHTML = '';
                
                educationPathways.forEach(pathway => {
                    const card = document.createElement('div');
                    card.className = 'career-card';
                    
                    let pathwaysHTML = '';
                    pathway.pathways.forEach(path => {
                        pathwaysHTML += `<p>• ${path}</p>`;
                    });
                    
                    card.innerHTML = `
                        <div class="career-header">
                            <h3>${pathway.career}</h3>
                        </div>
                        <div class="career-body">
                            <p><strong>Education Pathways:</strong></p>
                            ${pathwaysHTML}
                        </div>
                    `;
                    educationPaths.appendChild(card);
                });
            }
            
            // Navigation event listeners
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const target = item.getAttribute('data-target');
                    
                    // Update active nav item
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    item.classList.add('active');
                    
                    // Show target section
                    careerSections.forEach(section => section.classList.remove('active'));
                    document.getElementById(target).classList.add('active');
                    
                    // Load content if needed
                    if (target === 'results') {
                        showCareerResults();
                    } else if (target === 'paths') {
                        showEducationPaths();
                    }
                });
            });
            
            // Assessment navigation
            nextBtn.addEventListener('click', () => {
                if (answers[currentQuestion] === undefined) {
                    alert('Please select an option before proceeding.');
                    return;
                }
                
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    loadQuestion();
                } else {
                    // Show results
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    document.querySelector('[data-target="results"]').classList.add('active');
                    
                    careerSections.forEach(section => section.classList.remove('active'));
                    document.getElementById('results').classList.add('active');
                    
                    showCareerResults();
                }
            });
            
            prevBtn.addEventListener('click', () => {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    loadQuestion();
                }
            });
            
            // Chat functionality
            async function generateResponse(userMessage) {
                try {
                    const response = await fetch(API_URL, {
                        method: "POST",
                        headers: {
                            "Authorization": `Bearer ${API_KEY}`,
                            "HTTP-Referer": "https://steam-malaysia-career-engine.com", 
                            "X-Title": "STEAM Malaysia Career Engine",
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify({
                            "model": "deepseek/deepseek-chat-v3.1:free",
                            "messages": [
                                {
                                    role: "system",
                                    content: "You are a career advisor specializing in STEAM fields for Malaysian students. Provide helpful guidance about career options, education pathways, and job prospects in Science, Technology, Engineering, Arts, and Mathematics."
                                },
                                {
                                    role: "user",
                                    content: userMessage
                                }
                            ],
                            "temperature": 0.7,
                            "max_tokens": 500
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.error) {
                        return `Error: ${data.error.message}`;
                    }
                    
                    if (data.choices && data.choices.length > 0) {
                        return data.choices[0].message.content;
                    } else {
                        return "I'm sorry, I didn't understand that. Could you try rephrasing your question?";
                    }
                } catch (error) {
                    console.error('API Error:', error);
                    return "I'm having trouble connecting right now. Please try again in a moment.";
                }
            }
            
            function addChatMessage(text, isUser) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
                messageDiv.textContent = text;
                chatMessages.appendChild(messageDiv);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            async function handleUserMessage() {
                const message = userInput.value.trim();
                
                if (message === '') return;
                
                // Add user message to chat
                addChatMessage(message, true);
                userInput.value = '';
                
                // Generate response using API
                const response = await generateResponse(message);
                addChatMessage(response, false);
            }
            
            sendButton.addEventListener('click', handleUserMessage);
            
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleUserMessage();
                }
            });
            
            // Initialize the application
            initAssessment();
        });
    </script>
</body>
</html>